const playRythm = (now) => {
  // kick.triggerAttackRelease("C4", "8n", now + 16);
  let loopFire = 0;
  Tone.Transport.scheduleRepeat(
    (now) => {
      if (loopFire <= 31) {
        kickTrigger = true;
        bossFire = false;
        loopFire++;
        setTimeout(() => {
          if (activeShield) {
            shieldAnimation();
          }
        }, 472);
      } else if (loopFire === 0) {
        setTimeout(() => {
          if (activeShield) {
            shieldAnimation();
          }
        }, 472);
      }
    },
    "0.99",
    "8m"
  );

  const seqKick = new Tone.Sequence(
    (time, note) => {
      kick.connect(kickGain);
      kick.triggerAttackRelease(note, 0.05, time);
      // subdivisions are given as subarrays
    },
    [
      //-------------------------------------------

      //--------------------------------------------
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],

      // boss spawn
    ]
  );

  seqKick.loop = false;
  seqKick.start(0);

  const seqSnare = new Tone.Sequence(
    (time, note) => {
      snare.connect(snareGain);
      snare.triggerAttackRelease(note, 0.05, time);
      // subdivisions are given as subarrays
    },
    [
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],

      // boss spawn
    ]
  );

  seqSnare.loop = false;
  seqSnare.start(0);
};

const playRythm = (now) => {
  // kick.triggerAttackRelease("C4", "8n", now + 16);
  let loopFire1 = 0;
  Tone.Transport.scheduleRepeat(
    (now) => {
      if (loopFire1 <= 31) {
        kickTrigger = true;
        bossFire = false;

        setTimeout(() => {
          if (activeShield) {
            shieldAnimation();
          }
        }, 472);
      } else if (loopFire1 > 39 && loopFire1 < 71) {
        kickTrigger = true;
        bossFire = false;
        setTimeout(() => {
          if (activeShield) {
            shieldAnimation();
          }
        }, 472);
      } else if (loopFire1 > 87) {
        kickTrigger = true;
        bossFire = false;
        setTimeout(() => {
          if (activeShield) {
            shieldAnimation();
          }
        }, 472);
      } else if (loopFire1 === 0) {
        setTimeout(() => {
          if (activeShield) {
            shieldAnimation();
          }
        }, 472);
      }
      loopFire1++;
    },
    "1",
    "8m"
  );

  const seqKick = new Tone.Sequence(
    (time, note) => {
      // kick.connect(kickGain);
      kick.triggerAttackRelease(note, 0.05, time);
      // subdivisions are given as subarrays
    },
    [
      //-------------------------------------------

      //--------------------------------------------

      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      [],
      //------
      ["C4"],
      [],
      [],
      ["C4"],
      //-------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],

      //----------------------------------
      //-------------------------------------------
      //-----------------PART 2 --------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //---------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [[], ["C4"]],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //-------------------------------------Part3
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],

      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //------------------------------------------------
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      ["C4"],
      [],
      [],
    ]
  );

  seqKick.loop = false;
  seqKick.start(0);

  const seqSnare = new Tone.Sequence(
    (time, note) => {
      snare.connect(snareGain);
      snare.triggerAttackRelease(note, 0.05, time);
      // subdivisions are given as subarrays
    },
    [
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],
      //-------------------------------------------
      [],
      [],
      ["C4"],
      [],
      //------
      [],
      [],
      ["C4"],
      [],

      //--------pause explosion
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],

      //------------part 2---------------------------------------
      //--------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //--------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //--------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //----------------------------------------------------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //--------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //----------------------------------------------------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //--------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      //----------------------------------------------------------------------------------------
      [],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      [],
      //--------------------------------------------------------------------------
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],
      [],

      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      [],
      [],
      ["C4"],
      [],
      // boss spawn
    ]
  );

  seqSnare.loop = false;
  seqSnare.start(0);
};
